<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="quadcleanR">
<title>Cleaning Quadrat Data • quadcleanR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cleaning Quadrat Data">
<meta property="og:description" content="quadcleanR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">quadcleanR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/cleaning.html">Cleaning Quadrat Data</a>
    <a class="dropdown-item" href="../articles/cropping.html">Crop Quadrats by Area</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/DominiqueMaucieri/quadcleanR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="cleaning_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Cleaning Quadrat Data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DominiqueMaucieri/quadcleanR/blob/HEAD/vignettes/cleaning.Rmd" class="external-link"><code>vignettes/cleaning.Rmd</code></a></small>
      <div class="d-none name"><code>cleaning.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette will walk you through cleaning up quadrat data to produce easy to analyze data frames.</p>
<p>A little about the data:</p>
<p>The data being cleaned will be the <code>softcoral_SQuads</code> and this vignette will build off of the cropping vignette as well. Data was collected by the Baum Lab and Kiritimati Field Teams and is the uncleaned version of data found in Maucieri and Baum 2021. Biological Conservation. The <code>softcoral_SQuads</code> data are from photo quadrats (0.9m by 0.6m) which were randomly annotated with 54 random points each, while the <code>softcoral_annotations</code> data are from photo quadrats (1m by 1m) which were randomly annotated with 100 random points each. At each of these annotated points, the substrate was identified. Photo quadrats were collected on Kiritimati Island in the Republic of Kiribati and document coral cover over time and space. The annotations and output of the data frame were produced using <a href="https://coralnet.ucsd.edu/" class="external-link">CoralNet</a> and all annotations were done manually, by trained researchers.</p>
<p>So this vignette will follow the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Take the small quadrats (<code>softcoral_SQuads</code>) and show how to clean the data</p></li>
<li><p>Then crop the large quadrat data (<code>softcoral_annotations</code>) and clean it too</p></li>
<li><p>Join the two together to produce a large, easy to use data frame for future analyses.</p></li>
</ol>
<p>First lets load the package, the dplyr package, tidyr package and the data</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DominiqueMaucieri/quadcleanR" class="external-link">quadcleanR</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"softcoral_SQuads"</span><span class="op">)</span></code></pre></div>
<p>Now let me point out some unique aspects of this data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">softcoral_SQuads</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##   Image.ID              Image.name Annotation.status Points AcCor AcDig Acr_arb</span>
<span class="co">## 1  1009261 KI2007_site10_Q1-10.jpg         Confirmed     54     0     0       0</span>
<span class="co">## 2  1009252  KI2007_site10_Q1-1.jpg         Confirmed     54     0     0       0</span>
<span class="co">## 3  1009253  KI2007_site10_Q1-2.jpg         Confirmed     54     0     0       0</span>
<span class="co">## 4  1009254  KI2007_site10_Q1-3.jpg         Confirmed     54     0     0       0</span>
<span class="co">## 5  1009255  KI2007_site10_Q1-4.jpg         Confirmed     54     0     0       0</span>
<span class="co">## 6  1009256  KI2007_site10_Q1-5.jpg         Confirmed     54     0     0       0</span>
<span class="co">##   Acrop AcroTab Astreo B_Acr_arb B_Acro B_Astre BAT B_Cosc B_Echin B_FavHal</span>
<span class="co">## 1     0       0      0         0      0       0   0      0       0        0</span>
<span class="co">## 2     0       0      0         0      0       0   0      0       0        0</span>
<span class="co">## 3     0       0      0         0      0       0   0      0       0        0</span>
<span class="co">## 4     0       0      0         0      0       0   0      0       0        0</span>
<span class="co">## 5     0       0      0         0      0       0   0      0       0        0</span>
<span class="co">## 6     0       0      0         0      0       0   0      0       0        0</span>
<span class="co">##   B_Favia B_FaviaM B_FaviaS B_FaviaSt B_Favites B_FavPent B_Fung BGard B_GonEd</span>
<span class="co">## 1       0        0        0         0         0         0      0     0       0</span>
<span class="co">## 2       0        0        0         0         0         0      0     0       0</span>
<span class="co">## 3       0        0        0         0         0         0      0     0       0</span>
<span class="co">## 4       0        0        0         0         0         0      0     0       0</span>
<span class="co">## 5       0        0        0         0         0         0      0     0       0</span>
<span class="co">## 6       0        0        0         0         0         0      0     0       0</span>
<span class="co">##   B_Herpo B_HYDNO B_HyExe BlAcro.Cor B_Lepta B_Lepto Blisop B_Lobo BlTurbFol</span>
<span class="co">## 1       0       0       0          0       0       0      0      0         0</span>
<span class="co">## 2       0       0       0          0       0       0      0      0         0</span>
<span class="co">## 3       0       0       0          0       0       0      0      0         0</span>
<span class="co">## 4       0       0       0          0       0       0      0      0         0</span>
<span class="co">## 5       0       0       0          0       0       0      0      0         0</span>
<span class="co">## 6       0       0       0          0       0       0      0      0         0</span>
<span class="co">##   B_MOEN B_MOFO B_Monta B_Monti B_Oxyp B_Paly B_PaveDUER B_Pavona B_PEYDO</span>
<span class="co">## 1      0      0       0       0      0      0          0        0       0</span>
<span class="co">## 2      0      0       0       0      0      0          0        0       0</span>
<span class="co">## 3      0      0       0       0      0      0          0        0       0</span>
<span class="co">## 4      0      0       0       0      0      0          0        0       0</span>
<span class="co">## 5      0      0       0       0      0      0          0        0       0</span>
<span class="co">## 6      0      0       0       0      0      0          0        0       0</span>
<span class="co">##   B_Plat B_PMEAN B_Pocillo B_Porit B_Psam B_PVAR B_Sando B_UnkCoral Cirr COSC</span>
<span class="co">## 1      0       0         0       0      0      0       0          0    0    0</span>
<span class="co">## 2      0       0         0       0      0      0       0          0    0    0</span>
<span class="co">## 3      0       0         0       0      0      0       0          0    0    0</span>
<span class="co">## 4      0       0         0       0      0      0       0          0    0    0</span>
<span class="co">## 5      0       0         0       0      0      0       0          0    0    0</span>
<span class="co">## 6      0       0         0       0      0      0       0          0    0    0</span>
<span class="co">##   ECHIN Fav FavHal Favia FaviaM FaviaS FaviaSt FavPent Fung Gardin GonEd Herpo</span>
<span class="co">## 1     0   0      0     0      0      0       0       0    0      0     0     0</span>
<span class="co">## 2     0   0      0     0      0      0       0       0    0      0     0     0</span>
<span class="co">## 3     0   0      0     0      0      0       0       0    0      0     0     0</span>
<span class="co">## 4     0   0      0     0      0      0       0       0    0      0     0     0</span>
<span class="co">## 5     0   0      0     0      0      0       0       0    0      0     0     0</span>
<span class="co">## 6     0   0      0     0      0      0       0       0    0      0     0     0</span>
<span class="co">##   HYDNO HyExe Isopora Lepta Lepto Lobo X.MOEN X.MOFO Monta Monti Oxyp Paly</span>
<span class="co">## 1     0     0       0     0     0    0      0      0     0     0    0    0</span>
<span class="co">## 2     0     0       0     0     0    0      0      0     0     0    0    0</span>
<span class="co">## 3     0     0       0     0     0    0      0      0     0     0    0    0</span>
<span class="co">## 4     0     0       0     0     0    0      0      0     0     0    0    0</span>
<span class="co">## 5     0     0       0     0     0    0      0      0     0     0    0    0</span>
<span class="co">## 6     0     0       0     0     0    0      0      0     0     0    0    0</span>
<span class="co">##   PaveDUER Pavon PEYDO Plat Plero PMEAN Pocill Porit Psam PVAR Sando Tuba TURB</span>
<span class="co">## 1        0     0     0    0     0     0      0     0    0    0     0    0    0</span>
<span class="co">## 2        0     0     0    0     0     0      0     0    0    0     0    0    0</span>
<span class="co">## 3        0     0     0    0     0     0      0     0    0    0     0    0    0</span>
<span class="co">## 4        0     0     0    0     0     0      0     0    0    0     0    0    0</span>
<span class="co">## 5        0     0     0    0     0     0      0     0    0    0     0    0    0</span>
<span class="co">## 6        0     0     0    0     0     0      0     0    0    0     0    0    0</span>
<span class="co">##   UnkCoral ANEM B_Clad B_Sinu Clad EncBry EUR HYDCO Hydra Mille MOBI Sarco SECO</span>
<span class="co">## 1        0    0      0      0    0      0   0     0     0     0    0     0    0</span>
<span class="co">## 2        0    0      0      0    0      0   0     0     0     0    0     0    0</span>
<span class="co">## 3        0    0      0      0    0      0   0     0     0     0    0     0    0</span>
<span class="co">## 4        0    0      0      0    0      0   0     0     0     0    0     0    0</span>
<span class="co">## 5        0    0      0      0    0      0   0     0     0     0    0     0    0</span>
<span class="co">## 6        0    0      0      0    0      0   0     0     0     0    0     0    0</span>
<span class="co">##   Sinu Sponge Stylas UnkTUN XmasW ZOAN B_Sarco Sand Sediment SCRO B_Loph CYAN</span>
<span class="co">## 1    0      0      0      0     0    0       0    0        0    0      0    0</span>
<span class="co">## 2    0      0      0      0     0    0       0    0        0    0      0    0</span>
<span class="co">## 3    0      0      0      0     0    0       0    0        0    0      0    0</span>
<span class="co">## 4    0      0      0      0     0    0       0    0        0    0      0    0</span>
<span class="co">## 5    0      0      0      0     0    0       0    0        0    0      0    0</span>
<span class="co">## 6    0      0      0      0     0    0       0    0        0    0      0    0</span>
<span class="co">##   Loph Rubble  SHAD Trans   Unc AVRA Caul CCA Dict DICTY Hali Lobph Macro Mdict</span>
<span class="co">## 1    0      0 3.704     0 1.852    0    0   0    0     0    0     0     0     0</span>
<span class="co">## 2    0      0 0.000     0 0.000    0    0   0    0     0    0     0     0     0</span>
<span class="co">## 3    0      0 0.000     0 0.000    0    0   0    0     0    0     0     0     0</span>
<span class="co">## 4    0      0 1.852     0 1.852    0    0   0    0     0    0     0     0     0</span>
<span class="co">## 5    0      0 0.000     0 0.000    0    0   0    0     0    0     0     0     0</span>
<span class="co">## 6    0      0 0.000     0 0.000    0    0   0    0     0    0     0     0     0</span>
<span class="co">##   Pad Peysson Turf TURFH Unidentified</span>
<span class="co">## 1   0       0    0     0       48.444</span>
<span class="co">## 2   0       0    0     0       54.000</span>
<span class="co">## 3   0       0    0     0       54.000</span>
<span class="co">## 4   0       0    0     0       50.296</span>
<span class="co">## 5   0       0    0     0       54.000</span>
<span class="co">## 6   0       0    0     0       54.000</span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">softcoral_SQuads</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##        Image.ID          Image.name Annotation.status Points AcCor AcDig</span>
<span class="co">## 2517    1403339 KI2011_site9_Q5.jpg         Confirmed     54     0     0</span>
<span class="co">## 2518    1403340 KI2011_site9_Q6.jpg         Confirmed     54     0     0</span>
<span class="co">## 2519    1403341 KI2011_site9_Q7.jpg         Confirmed     54     0     0</span>
<span class="co">## 2520    1403342 KI2011_site9_Q8.jpg         Confirmed     54     0     0</span>
<span class="co">## 2521    1403343 KI2011_site9_Q9.jpg         Confirmed     54     0     0</span>
<span class="co">## 2522 ALL IMAGES                                           NA     0     0</span>
<span class="co">##      Acr_arb Acrop AcroTab Astreo B_Acr_arb B_Acro B_Astre BAT B_Cosc B_Echin</span>
<span class="co">## 2517       0     0       0      0         0      0       0   0      0       0</span>
<span class="co">## 2518       0     0       0      0         0      0       0   0      0       0</span>
<span class="co">## 2519       0     0       0      0         0      0       0   0      0       0</span>
<span class="co">## 2520       0     0       0      0         0      0       0   0      0       0</span>
<span class="co">## 2521       0     0       0      0         0      0       0   0      0       0</span>
<span class="co">## 2522       0     0       0      0         0      0       0   0      0       0</span>
<span class="co">##      B_FavHal B_Favia B_FaviaM B_FaviaS B_FaviaSt B_Favites B_FavPent B_Fung</span>
<span class="co">## 2517        0       0        0        0         0         0         0      0</span>
<span class="co">## 2518        0       0        0        0         0         0         0      0</span>
<span class="co">## 2519        0       0        0        0         0         0         0      0</span>
<span class="co">## 2520        0       0        0        0         0         0         0      0</span>
<span class="co">## 2521        0       0        0        0         0         0         0      0</span>
<span class="co">## 2522        0       0        0        0         0         0         0      0</span>
<span class="co">##      BGard B_GonEd B_Herpo B_HYDNO B_HyExe BlAcro.Cor B_Lepta B_Lepto Blisop</span>
<span class="co">## 2517     0       0       0       0       0          0       0       0      0</span>
<span class="co">## 2518     0       0       0       0       0          0       0       0      0</span>
<span class="co">## 2519     0       0       0       0       0          0       0       0      0</span>
<span class="co">## 2520     0       0       0       0       0          0       0       0      0</span>
<span class="co">## 2521     0       0       0       0       0          0       0       0      0</span>
<span class="co">## 2522     0       0       0       0       0          0       0       0      0</span>
<span class="co">##      B_Lobo BlTurbFol B_MOEN B_MOFO B_Monta B_Monti B_Oxyp B_Paly B_PaveDUER</span>
<span class="co">## 2517      0         0      0      0       0       0      0      0          0</span>
<span class="co">## 2518      0         0      0      0       0       0      0      0          0</span>
<span class="co">## 2519      0         0      0      0       0       0      0      0          0</span>
<span class="co">## 2520      0         0      0      0       0       0      0      0          0</span>
<span class="co">## 2521      0         0      0      0       0       0      0      0          0</span>
<span class="co">## 2522      0         0      0      0       0       0      0      0          0</span>
<span class="co">##      B_Pavona B_PEYDO B_Plat B_PMEAN B_Pocillo B_Porit B_Psam B_PVAR B_Sando</span>
<span class="co">## 2517        0       0      0       0         0       0      0      0       0</span>
<span class="co">## 2518        0       0      0       0         0       0      0      0       0</span>
<span class="co">## 2519        0       0      0       0         0       0      0      0       0</span>
<span class="co">## 2520        0       0      0       0         0       0      0      0       0</span>
<span class="co">## 2521        0       0      0       0         0       0      0      0       0</span>
<span class="co">## 2522        0       0      0       0         0       0      0      0       0</span>
<span class="co">##      B_UnkCoral Cirr COSC ECHIN Fav FavHal Favia FaviaM FaviaS FaviaSt FavPent</span>
<span class="co">## 2517          0    0    0     0   0      0     0      0      0       0       0</span>
<span class="co">## 2518          0    0    0     0   0      0     0      0      0       0       0</span>
<span class="co">## 2519          0    0    0     0   0      0     0      0      0       0       0</span>
<span class="co">## 2520          0    0    0     0   0      0     0      0      0       0       0</span>
<span class="co">## 2521          0    0    0     0   0      0     0      0      0       0       0</span>
<span class="co">## 2522          0    0    0     0   0      0     0      0      0       0       0</span>
<span class="co">##      Fung Gardin GonEd Herpo HYDNO HyExe Isopora Lepta Lepto Lobo X.MOEN X.MOFO</span>
<span class="co">## 2517    0      0     0     0     0     0       0     0     0    0      0      0</span>
<span class="co">## 2518    0      0     0     0     0     0       0     0     0    0      0      0</span>
<span class="co">## 2519    0      0     0     0     0     0       0     0     0    0      0      0</span>
<span class="co">## 2520    0      0     0     0     0     0       0     0     0    0      0      0</span>
<span class="co">## 2521    0      0     0     0     0     0       0     0     0    0      0      0</span>
<span class="co">## 2522    0      0     0     0     0     0       0     0     0    0      0      0</span>
<span class="co">##      Monta Monti Oxyp Paly PaveDUER Pavon PEYDO Plat Plero PMEAN Pocill Porit</span>
<span class="co">## 2517     0     0    0    0        0     0     0    0     0     0      0     0</span>
<span class="co">## 2518     0     0    0    0        0     0     0    0     0     0      0     0</span>
<span class="co">## 2519     0     0    0    0        0     0     0    0     0     0      0     0</span>
<span class="co">## 2520     0     0    0    0        0     0     0    0     0     0      0     0</span>
<span class="co">## 2521     0     0    0    0        0     0     0    0     0     0      0     0</span>
<span class="co">## 2522     0     0    0    0        0     0     0    0     0     0      0     0</span>
<span class="co">##      Psam PVAR Sando Tuba TURB UnkCoral ANEM B_Clad B_Sinu Clad EncBry EUR</span>
<span class="co">## 2517    0    0     0    0    0        0    0      0      0    0      0   0</span>
<span class="co">## 2518    0    0     0    0    0        0    0      0      0    0      0   0</span>
<span class="co">## 2519    0    0     0    0    0        0    0      0      0    0      0   0</span>
<span class="co">## 2520    0    0     0    0    0        0    0      0      0    0      0   0</span>
<span class="co">## 2521    0    0     0    0    0        0    0      0      0    0      0   0</span>
<span class="co">## 2522    0    0     0    0    0        0    0      0      0    0      0   0</span>
<span class="co">##      HYDCO Hydra Mille MOBI Sarco SECO Sinu Sponge Stylas UnkTUN XmasW ZOAN</span>
<span class="co">## 2517     0     0     0    0     0    0    0      0      0      0     0    0</span>
<span class="co">## 2518     0     0     0    0     0    0    0      0      0      0     0    0</span>
<span class="co">## 2519     0     0     0    0     0    0    0      0      0      0     0    0</span>
<span class="co">## 2520     0     0     0    0     0    0    0      0      0      0     0    0</span>
<span class="co">## 2521     0     0     0    0     0    0    0      0      0      0     0    0</span>
<span class="co">## 2522     0     0     0    0     0    0    0      0      0      0     0    0</span>
<span class="co">##      B_Sarco Sand Sediment SCRO B_Loph CYAN Loph Rubble SHAD Trans Unc AVRA</span>
<span class="co">## 2517       0    0        0    0      0    0    0      0    0 5.556   0    0</span>
<span class="co">## 2518       0    0        0    0      0    0    0      0    0 5.556   0    0</span>
<span class="co">## 2519       0    0        0    0      0    0    0      0    0 1.852   0    0</span>
<span class="co">## 2520       0    0        0    0      0    0    0      0    0 0.000   0    0</span>
<span class="co">## 2521       0    0        0    0      0    0    0      0    0 0.000   0    0</span>
<span class="co">## 2522       0    0        0    0      0    0    0      0    0 0.000   0    0</span>
<span class="co">##      Caul CCA Dict DICTY Hali Lobph Macro Mdict Pad Peysson Turf TURFH</span>
<span class="co">## 2517    0   0    0     0    0     0     0     0   0       0    0     0</span>
<span class="co">## 2518    0   0    0     0    0     0     0     0   0       0    0     0</span>
<span class="co">## 2519    0   0    0     0    0     0     0     0   0       0    0     0</span>
<span class="co">## 2520    0   0    0     0    0     0     0     0   0       0    0     0</span>
<span class="co">## 2521    0   0    0     0    0     0     0     0   0       0    0     0</span>
<span class="co">## 2522    0   0    0     0    0     0     0     0   0       0    0     0</span>
<span class="co">##      Unidentified</span>
<span class="co">## 2517       48.444</span>
<span class="co">## 2518       48.444</span>
<span class="co">## 2519       52.148</span>
<span class="co">## 2520       54.000</span>
<span class="co">## 2521       54.000</span>
<span class="co">## 2522       54.000</span></code></pre>
<p>This data as an <code>Image.ID</code> column which was arbitrarily added to this data set, so we are going to remove that as it holds no scientific value. There is also a final row which sums all quadrats but since we will be removing quadrats and points to clean these data up, we will remove that final row as well. The <code>Image.name</code> column is the unique ID for each photo quadrat, but it is very messy and not easy to use, so we will make this into new columns and add more information. <code>Annotation.status</code> is a column from <a href="https://coralnet.ucsd.edu/" class="external-link">CoralNet</a> which tells if the annotations in each photo quadrat have been confirmed by human researchers or are only based on AI. The <code>Points</code> column tells us how many randomly annotated points there are in each quadrat, and since they are all 54, we know these data are from the smaller quadrats. The rest of the columns are the different coral and substrate IDs and how many points where annotated for each tag in each photo.</p>
<p>So first, lets remove unneeded columns and make sure we are only working with “Confirmed” annotations.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">SQuad_confirmed</span> <span class="op">&lt;-</span> <span class="va">softcoral_SQuads</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Annotation.status</span> <span class="op">==</span> <span class="st">"Confirmed"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">Image.ID</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Now we will separate the <code>Image.name</code> column into more descriptive columns.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">SQuad_separated</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate.html" class="external-link">separate</a></span><span class="op">(</span><span class="va">SQuad_confirmed</span>, <span class="va">Image.name</span>, sep<span class="op">=</span><span class="st">"_"</span>, into<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Field.Season"</span>, <span class="st">"Site"</span>,<span class="st">"Quadrat"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>There will be 3 rows with discarded pieces because the quadrats have an _ in them, but that is okay, they will still be unique quadrat names so we don’t need to worry about that. But if you notice, there are still .jpg and .jpeg in the quadrat names, so lets remove those, and change the naming of siteT19 to site40</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">SQuad_nojpg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rm_chr.html">rm_chr</a></span><span class="op">(</span><span class="va">SQuad_separated</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">".jpg"</span>, <span class="st">".jpeg"</span><span class="op">)</span><span class="op">)</span>
<span class="va">SQuad_site40</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/change_values.html">change_values</a></span><span class="op">(</span><span class="va">SQuad_nojpg</span>, <span class="st">"Site"</span>, <span class="st">"siteT19"</span>, <span class="st">"site40"</span><span class="op">)</span></code></pre></div>
<p>Now lets look at the levels of some of my columns.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">SQuad_site40</span><span class="op">$</span><span class="va">Field.Season</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "KI2007" "KI2009" "KI2010" "KI2011"</span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">SQuad_site40</span><span class="op">$</span><span class="va">Site</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##  [1] "site10" "site11" "site12" "site13" "site14" "site15" "site16" "site17"</span>
<span class="co">##  [9] "site18" "site19" "site1"  "site20" "site21" "site22" "site23" "site24"</span>
<span class="co">## [17] "site25" "site26" "site27" "site28" "site29" "site2"  "site30" "site31"</span>
<span class="co">## [25] "site32" "site33" "site34" "site35" "site36" "site37" "site3"  "site4" </span>
<span class="co">## [33] "site5"  "site6"  "site7"  "site8"  "site9"  "site38" "site39" "site40"</span></code></pre>
<p>Sometimes you may not want every year and every site of the data, so you may want to subset some of them out. For this example I don’t want to subset any of these out, but I will demonstrate how to subset out based on values later, when we get to the large quadrats.</p>
<p>Now to prep for the addition of the large quadrats, I want to update the column names for this data frame. The column names are currently set as the tag shorthand used during the annotation process, but now I want them to better reflect the actual substrate names.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">coral_labelset</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">coral_labelset</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##   short_name                full_name functional_group</span>
<span class="co">## 1       AVRA             Avrainvillea            Algae</span>
<span class="co">## 2       Caul                 Caulerpa            Algae</span>
<span class="co">## 3        CCA Crustose_coralline_algae            Algae</span>
<span class="co">## 4       Dict                 Dictyota            Algae</span>
<span class="co">## 5      DICTY           Dictyosphaeria            Algae</span>
<span class="co">## 6       Hali                 Halimeda            Algae</span></code></pre>
<p>This is what my label set document looks like, but you could also make this in R by joining a series of vectors. Now lets fix the column names.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">SQuad_colnames</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/change_names.html">change_names</a></span><span class="op">(</span><span class="va">SQuad_site40</span>, <span class="va">coral_labelset</span>, <span class="st">"short_name"</span>, <span class="st">"full_name"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">SQuad_colnames</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##   [1] "Field.Season"                   "Site"                          </span>
<span class="co">##   [3] "Quadrat"                        "Annotation.status"             </span>
<span class="co">##   [5] "Points"                         "Acropora_corymbose"            </span>
<span class="co">##   [7] "Acropora_digitate"              "Acropora_arborescent"          </span>
<span class="co">##   [9] "Acropora"                       "Acropora_tabulate"             </span>
<span class="co">##  [11] "Astreopora"                     "Bleached_Acropora_arborescent" </span>
<span class="co">##  [13] "Bleached_Acropora"              "Bleached_Astreopora"           </span>
<span class="co">##  [15] "Bleached_Acropora_tabulate"     "Bleached_Coscinarea"           </span>
<span class="co">##  [17] "Bleached_Echinophyllia"         "Bleached_Favites_halicora"     </span>
<span class="co">##  [19] "Bleached_Favia"                 "Bleached_Favia_matthai"        </span>
<span class="co">##  [21] "Bleached_Favia_speciosa"        "Bleached_Goniastrea_stelligera"</span>
<span class="co">##  [23] "Bleached_Favites"               "Bleached_Favites_pentagona"    </span>
<span class="co">##  [25] "Bleached_Fungia"                "Bleached_Gardineroseris"       </span>
<span class="co">##  [27] "Bleached_Goniastrea_edwardsi"   "Bleached_Herpolitha"           </span>
<span class="co">##  [29] "Bleached_Hydnophora"            "Bleached_Hydnophora_exesa"     </span>
<span class="co">##  [31] "Bleached_Acropora_corymbose"    "Bleached_Leptastrea"           </span>
<span class="co">##  [33] "Bleached_Leptoseris"            "Bleached_Isopora"              </span>
<span class="co">##  [35] "Bleached_Lobophyllia"           "Bleached_Turbinaria_foliose"   </span>
<span class="co">##  [37] "Bleached_Montipora_encrusting"  "Bleached_Montipora_foliose"    </span>
<span class="co">##  [39] "Bleached_Montastraea"           "Bleached_Montipora"            </span>
<span class="co">##  [41] "Bleached_Oxypora"               "Bleached_Palythoa"             </span>
<span class="co">##  [43] "Bleached_Pavona_duerdeni"       "Bleached_Pavona"               </span>
<span class="co">##  [45] "Bleached_Pocillopora_eydouxi"   "Bleached_Platygyra"            </span>
<span class="co">##  [47] "Bleached_Pocillopora_meandrina" "Bleached_Pocillopora"          </span>
<span class="co">##  [49] "Bleached_Porites"               "Bleached_Psammocora"           </span>
<span class="co">##  [51] "Bleached_Pavona_varians"        "Bleached_Sandolitha"           </span>
<span class="co">##  [53] "Bleached_unknown_hard_coral"    "Cirrhipathes"                  </span>
<span class="co">##  [55] "Coscinaraea"                    "Echinophyllia"                 </span>
<span class="co">##  [57] "Favites"                        "Favites_halicora"              </span>
<span class="co">##  [59] "Favia"                          "Dipsastraea_matthai"           </span>
<span class="co">##  [61] "Favia_speciosa"                 "Favia_stelligera"              </span>
<span class="co">##  [63] "Favites_pentagona"              "Fungia"                        </span>
<span class="co">##  [65] "Gardineroseris"                 "Goniastrea_edwardsi"           </span>
<span class="co">##  [67] "Herpolitha"                     "Hydnophora"                    </span>
<span class="co">##  [69] "Hydnophora_exesa"               "Isopora"                       </span>
<span class="co">##  [71] "Leptastrea"                     "Leptoseris"                    </span>
<span class="co">##  [73] "Lobophyllia"                    "Montipora_encrusting"          </span>
<span class="co">##  [75] "Montipora_foliose"              "Montastraea"                   </span>
<span class="co">##  [77] "Montipora"                      "Oxypora"                       </span>
<span class="co">##  [79] "Palythoa"                       "Pavona_duerdeni"               </span>
<span class="co">##  [81] "Pavona"                         "Pocillopora_eydouxi"           </span>
<span class="co">##  [83] "Platygyra"                      "Plerogyra"                     </span>
<span class="co">##  [85] "Pocillopora_meandrina"          "Pocillopora"                   </span>
<span class="co">##  [87] "Porites"                        "Psammocora"                    </span>
<span class="co">##  [89] "Pavona_varians"                 "Sandolitha"                    </span>
<span class="co">##  [91] "Tubastrea"                      "Turbinaria"                    </span>
<span class="co">##  [93] "unknown_hard_coral"             "Sea_anemone"                   </span>
<span class="co">##  [95] "Bleached_Cladiella"             "Bleached_Sinularia"            </span>
<span class="co">##  [97] "Cladiella"                      "Encrusting_Bryozoan"           </span>
<span class="co">##  [99] "Sea_urchin"                     "Hydrocoral"                    </span>
<span class="co">## [101] "Hydroid"                        "Millepora"                     </span>
<span class="co">## [103] "Bivalves"                       "Sarcophyton"                   </span>
<span class="co">## [105] "Sea_cucumber"                   "Sinularia"                     </span>
<span class="co">## [107] "Sponge"                         "Stylaster"                     </span>
<span class="co">## [109] "Unknown_Tunicate"               "Christmas_Tree_Worm"           </span>
<span class="co">## [111] "Zoanthid"                       "Bleached_Sarcophyton"          </span>
<span class="co">## [113] "Sand"                           "Sediment"                      </span>
<span class="co">## [115] "Consolidated_hard_rock"         "Bleached_Lobophytum"           </span>
<span class="co">## [117] "Cyanobacteria_films"            "Lobophytum"                    </span>
<span class="co">## [119] "Broken_coral_rubble"            "Shadow"                        </span>
<span class="co">## [121] "Transect_hardware"              "Unclear"                       </span>
<span class="co">## [123] "Avrainvillea"                   "Caulerpa"                      </span>
<span class="co">## [125] "Crustose_coralline_algae"       "Dictyota"                      </span>
<span class="co">## [127] "Dictyosphaeria"                 "Halimeda"                      </span>
<span class="co">## [129] "Lobophora"                      "Macroalgae"                    </span>
<span class="co">## [131] "Microdictyon"                   "Padina"                        </span>
<span class="co">## [133] "Peyssonnelia"                   "Turf_algae"                    </span>
<span class="co">## [135] "Turf_algae_on_hard_substrate"   "Unidentified"</span></code></pre>
<p>Much better.</p>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Dominique Maucieri.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
